"use strict";(self.webpackChunkmern_phonebook=self.webpackChunkmern_phonebook||[]).push([[157],{2157:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var i,r,o,a,l,s=t(4005),c=t(7286),d=t(9434),u=t(8921),f=function(){return{contacts:(0,d.v9)(u.Af),activeContact:(0,d.v9)(u.Pd),filterValue:(0,d.v9)(u.Gd),error:(0,d.v9)(u.zh),isLoading:(0,d.v9)(u.xU)}},p=t(168),h=t(6444),v=h.ZP.div(i||(i=(0,p.Z)(["\n  display: flex;\n"]))),x=t(3329),b=function(n){var e=n.children;return(0,x.jsx)(v,{children:e})},m=t(9119),g=t(9126),j="30px",w="14px",k=h.ZP.div(r||(r=(0,p.Z)(["\n  width: 100%;\n  position: relative;\n  display: inline-block;\n\n  input {\n    width: 100%;\n    height: ",";\n    padding-inline: ",";\n    border: 1px solid #b1b1b1;\n    border-radius: 5px;\n    outline: transparent;\n    transition: border-color 250ms;\n\n    &:hover,\n    &:focus {\n      border-color: blue;\n    }\n\n    &::placeholder {\n      width: fit-content;\n      position: absolute;\n      left: 50%;\n      transform: translateX(-50%);\n      transition: left 300ms, transform 300ms;\n      font-size: ",";\n    }\n\n    &:focus::placeholder {\n      left: 0;\n\n      transform: translateX(",");\n    }\n\n    & + svg {\n      position: absolute;\n      top: 50%;\n      left: calc(50% - 2.5 * ",");\n      transform: translate(-50%, -50%);\n      transition: left 300ms, transform 300ms;\n      cursor: text;\n    }\n\n    &:focus + svg,\n    &:not(:placeholder-shown) + svg {\n      left: calc("," * 0.55);\n    }\n  }\n"])),j,j,w,j,w,j),y=h.ZP.button(o||(o=(0,p.Z)(["\n  position: absolute;\n  top: 50%;\n  right: calc("," * 0.55);\n  width: 20px;\n  height: 20px;\n\n  transform: translate(50%, -50%);\n  border: 1px solid transparent;\n  border-radius: 50%;\n  background-color: gray;\n  color: white;\n  font-weight: 700;\n  font-size: ",";\n"])),j,w),C=t(6263),z=function(){var n=(0,d.v9)(u.Gd),e=(0,d.I0)(),t=function(n){return e((0,C.hL)(n.target.value))};return(0,x.jsxs)(k,{children:[(0,x.jsx)("input",{type:"text",name:"filter",placeholder:"Search",value:n,onChange:t}),(0,x.jsx)(g.dVI,{size:"16",onClick:function(n){return n.target.previousElementSibling.focus()}}),n&&(0,x.jsx)(y,{onClick:t,children:"\u2715"})]})},Z=t(2791),L=h.ZP.ul(a||(a=(0,p.Z)(["\n  width: 100%;\n  padding: 20px 0;\n  display: inline-flex;\n  flex-direction: column;\n\n  font-weight: 500;\n  counter-reset: section;\n\n  /* counter-reset: section; */\n  /* list-style-type: none; */\n\n  li {\n    margin-bottom: 10px;\n    display: inline-flex;\n    padding: 3px 10px 1px;\n    border-radius: 5px;\n\n    gap: 5px;\n    cursor: pointer;\n\n    &::before {\n      counter-increment: section;\n      content: counters(section, '.') '.';\n    }\n\n    button {\n      margin-left: auto;\n      padding: 0;\n      background-color: transparent;\n      border-color: transparent;\n      font-weight: 700;\n\n      &:hover,\n      &:focus {\n        color: tomato;\n      }\n    }\n  }\n  & .active {\n    background-color: teal;\n    color: white;\n  }\n"]))),_=t(7612),P=function(){var n=(0,d.I0)(),e=f(),t=e.contacts,i=e.activeContact,r=e.filterValue;(0,Z.useEffect)((function(){n((0,_.VC)())}),[n]),(0,Z.useEffect)((function(){var e,r,o=document.querySelector("li[data-id].active");if(null===(e=o)||void 0===e||e.classList.remove("active"),!(o=document.querySelector('li[data-id="'.concat(null===i||void 0===i?void 0:i._id,'"]')))){o=document.querySelector("li[data-id]");var a=t.find((function(n){return n._id===o.dataset.id}));n((0,C.BL)(a))}null===(r=o)||void 0===r||r.classList.add("active")}),[i,t,n]);var o=t.filter((function(n){return n.name.toLowerCase().includes(r.toLowerCase())})),a=function(e){var i=e.target.dataset.id,r=t.find((function(n){return n._id===i}));n((0,C.BL)(r))};return(0,x.jsx)(L,{children:o.map((function(e){return(0,x.jsxs)("li",{"data-id":e._id,onClick:a,children:[e.name,(0,x.jsx)("button",{onClick:function(){return n((0,_.xX)(e._id))},children:"Delete"})]},e._id)}))})},S=t(1545),I=t(3524),G=h.ZP.div(l||(l=(0,p.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n  grid-column-gap: 10px;\n  margin-bottom: 10px;\n\n  & a {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 26px;\n    height: 26px;\n    padding: 3px;\n\n    border-radius: 50%;\n    border: 1px solid #b1b1b1;\n    background-color: white;\n    transition: border-color 250ms;\n\n    &:hover,\n    &:focus {\n      cursor: pointer;\n      border-color: blue;\n    }\n\n    & svg {\n      fill: blue;\n    }\n  }\n"]))),V=function(){var n=(0,c.a)().userId,e=f(),t=e.activeContact,i=!e.isLoading&&n===(null===t||void 0===t?void 0:t.owner),r=["_id","name","group","favorite","owner"],o={phone:{href:"tel:".concat(null===t||void 0===t?void 0:t.phone),icon:(0,x.jsx)(g.SPk,{size:"14"})},email:{href:"mailto:".concat(null===t||void 0===t?void 0:t.email),icon:(0,x.jsx)(g.lZw,{size:"15"})},whatsapp:{href:"https://wa.me/".concat(null===t||void 0===t?void 0:t.whatsapp),icon:(0,x.jsx)(g.RGt,{size:"15"})},telegram:{href:"https://t.me/".concat(null===t||void 0===t?void 0:t.telegram),icon:(0,x.jsx)(S.Gke,{size:"20"})},viber:{href:"viber://chat?number:+".concat(null===t||void 0===t?void 0:t.viber),icon:(0,x.jsx)(S.i86,{size:"20"})},linkedin:{href:null===t||void 0===t?void 0:t.linkedin,icon:(0,x.jsx)(S.KCg,{size:"20"})},github:{href:null===t||void 0===t?void 0:t.github,icon:(0,x.jsx)(g.rFR,{size:"16"})},address:{href:(null===t||void 0===t?void 0:t.address)&&"https://www.google.com/maps/search/"+"".concat(null===t||void 0===t?void 0:t.address.split(/\s+/).join("+")),icon:(0,x.jsx)(I.jCW,{size:"16"})}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(G,{children:i&&Object.keys(o).map((function(n){return t[n]&&(0,x.jsx)("a",{href:o[n].href,target:"_blank",rel:"noreferrer",children:o[n].icon},o[n].href)}))}),(0,x.jsx)("ul",{children:i&&Object.keys(t).map((function(n){return!r.includes(n)&&t[n]&&(0,x.jsx)("li",{children:"".concat(n,": ").concat(t[n])},n)}))})]})},q=function(){var n=(0,c.a)().userId,e=f(),t=e.activeContact,i=e.isLoading,r=n===(null===t||void 0===t?void 0:t.owner)?null===t||void 0===t?void 0:t.name:"";return(0,x.jsxs)(b,{children:[(0,x.jsxs)(m.W,{pi:"0",children:[(0,x.jsx)(z,{})," ",(0,x.jsx)("br",{}),(0,x.jsx)(P,{})]}),(0,x.jsx)(m.W,{t2:r,children:(0,x.jsx)(V,{})}),i&&(0,x.jsx)(s.D,{})]})}}}]);
//# sourceMappingURL=157.c4b1b517.chunk.js.map