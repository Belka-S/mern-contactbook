"use strict";(self.webpackChunkmern_phonebook=self.webpackChunkmern_phonebook||[]).push([[186],{5186:function(n,t,e){e.r(t),e.d(t,{default:function(){return z}});var o,r,i,a,c=e(4005),l=e(7286),s=e(9434),d=e(8921),u=function(){return{contacts:(0,s.v9)(d.Af),activeContact:(0,s.v9)(d.Pd),filterValue:(0,s.v9)(d.Gd),error:(0,s.v9)(d.zh),isLoading:(0,s.v9)(d.xU)}},f=e(168),p=e(6444),v=p.ZP.div(o||(o=(0,f.Z)(["\n  display: flex;\n"]))),h=e(3329),x=function(n){var t=n.children;return(0,h.jsx)(v,{children:t})},g=e(9119),m=e(8185),b="30px",j="14px",w=p.ZP.div(r||(r=(0,f.Z)(["\n  width: 100%;\n  position: relative;\n  display: inline-block;\n\n  input {\n    width: 100%;\n    height: ",";\n    padding-inline: ",";\n    border: 1px solid gray;\n    border-radius: 5px;\n    outline: transparent;\n\n    &::placeholder {\n      width: fit-content;\n      position: absolute;\n      left: 50%;\n      transform: translateX(-50%);\n      transition: left 300ms, transform 300ms;\n      font-size: ",";\n    }\n\n    &:focus::placeholder {\n      left: 0;\n      transform: translateX(",");\n    }\n\n    & + svg {\n      position: absolute;\n      top: 50%;\n      left: calc(50% - 2.5 * ",");\n      transform: translate(-50%, -50%);\n      transition: left 300ms, transform 300ms;\n      cursor: text;\n    }\n\n    &:focus + svg,\n    &:not(:placeholder-shown) + svg {\n      left: calc("," * 0.55);\n    }\n  }\n"])),b,b,j,b,j,b),k=p.ZP.button(i||(i=(0,f.Z)(["\n  position: absolute;\n  top: 50%;\n  right: calc("," * 0.55);\n  width: 20px;\n  height: 20px;\n\n  transform: translate(50%, -50%);\n  border: 1px solid transparent;\n  border-radius: 50%;\n  background-color: gray;\n  color: white;\n  font-weight: 700;\n  font-size: ",";\n"])),b,j),C=e(6263),y=function(){var n=(0,s.v9)(d.Gd),t=(0,s.I0)(),e=function(n){return t((0,C.hL)(n.target.value))};return(0,h.jsxs)(w,{children:[(0,h.jsx)("input",{type:"text",name:"filter",placeholder:"Search",value:n,onChange:e}),(0,h.jsx)(m.dVI,{size:"16",onClick:function(n){return n.target.previousElementSibling.focus()}}),n&&(0,h.jsx)(k,{onClick:e,children:"\u2715"})]})},L=e(2791),Z=p.ZP.ul(a||(a=(0,f.Z)(["\n  width: 100%;\n  padding: 20px 0;\n  display: inline-flex;\n  flex-direction: column;\n\n  font-weight: 500;\n  counter-reset: section;\n\n  /* counter-reset: section; */\n  /* list-style-type: none; */\n\n  li {\n    margin-bottom: 10px;\n    display: inline-flex;\n    padding: 3px 10px 1px;\n    border-radius: 5px;\n\n    gap: 5px;\n    cursor: pointer;\n\n    &::before {\n      counter-increment: section;\n      content: counters(section, '.') '.';\n    }\n\n    button {\n      margin-left: auto;\n      padding: 0;\n      background-color: transparent;\n      border-color: transparent;\n      font-weight: 700;\n\n      &:hover,\n      &:focus {\n        color: tomato;\n      }\n    }\n  }\n  & .active {\n    background-color: teal;\n    color: white;\n  }\n"]))),_=e(7612),I=function(){var n=(0,s.I0)(),t=u(),e=t.contacts,o=t.activeContact,r=t.filterValue,i=t.isLoading;(0,L.useEffect)((function(){n((0,_.VC)())}),[n]),(0,L.useEffect)((function(){var n,t,e=document.querySelector("li[data-id].active");null===(n=e)||void 0===n||n.classList.remove("active"),null===(t=e=document.querySelector('li[data-id="'.concat(null===o||void 0===o?void 0:o._id,'"]')))||void 0===t||t.classList.add("active")}),[o,i]);var a=e.filter((function(n){return n.name.toLowerCase().includes(r.toLowerCase())})),c=function(t){var o=t.target.dataset.id,r=e.find((function(n){return n._id===o}));n((0,C.BL)(r))};return(0,h.jsx)(Z,{children:a.map((function(t){return(0,h.jsxs)("li",{"data-id":t._id,onClick:c,children:[t.name,(0,h.jsx)("button",{onClick:function(){return n((0,_.xX)(t._id))},children:"Delete"})]},t._id)}))})},P=function(){var n=(0,l.a)().userId,t=u().activeContact,e=n===(null===t||void 0===t?void 0:t.owner),o=["_id","name","group","favorite","owner"];return(0,h.jsx)("ul",{children:e&&Object.keys(t).map((function(n){return!o.includes(n)&&t[n]&&(0,h.jsx)("li",{children:"".concat(n,": ").concat(t[n])},n)}))})},z=function(){var n=(0,l.a)().userId,t=u(),e=t.activeContact,o=t.isLoading,r=n===(null===e||void 0===e?void 0:e.owner)?null===e||void 0===e?void 0:e.name:"";return(0,h.jsxs)(x,{children:[(0,h.jsxs)(g.W,{pi:"0",children:[(0,h.jsx)(y,{})," ",(0,h.jsx)("br",{}),(0,h.jsx)(I,{})]}),(0,h.jsx)(g.W,{t2:r,children:(0,h.jsx)(P,{})}),o&&(0,h.jsx)(c.D,{})]})}}}]);
//# sourceMappingURL=186.26ee8d3d.chunk.js.map