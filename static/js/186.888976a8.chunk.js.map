{"version":3,"file":"static/js/186.888976a8.chunk.js","mappings":"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","sources":["utils/hooks/useContacts.js","components/common/FlexWrapper/FlexWrapper.styled.jsx","components/common/FlexWrapper/FlexWrapper.jsx","components/Filter/Filter.styled.jsx","components/Filter/Filter.jsx","components/ContactList/ContactList.styled.jsx","components/ContactList/ContactList.jsx","components/ContactCard/ContactCard.jsx","pages/Contacts.jsx"],"sourcesContent":["import { useSelector } from 'react-redux';\nimport * as selectors from 'store/seletors';\n\nexport const useContacts = () => {\n  const contacts = useSelector(selectors.selectContacts);\n  const activeContact = useSelector(selectors.selectActiveContact);\n  const filterValue = useSelector(selectors.selectFilterValue);\n  const error = useSelector(selectors.selectError);\n  const isLoading = useSelector(selectors.selectIsLoading);\n\n  return { contacts, activeContact, filterValue, error, isLoading };\n};\n","import styled from 'styled-components';\n\nexport const Div = styled.div`\n  display: flex;\n`;\n","import { Div } from './FlexWrapper.styled';\n\nexport const FlexWrapper = ({ children }) => {\n  return <Div>{children}</Div>;\n};\n","import styled from 'styled-components';\n\nconst heightSize = '30px';\nconst fontSize = '14px';\n\nexport const Div = styled.div`\n  width: 100%;\n  position: relative;\n  display: inline-block;\n\n  input {\n    width: 100%;\n    height: ${heightSize};\n    padding-inline: ${heightSize};\n    border: 1px solid gray;\n    border-radius: 5px;\n    outline: transparent;\n\n    &::placeholder {\n      width: fit-content;\n      position: absolute;\n      left: 50%;\n      transform: translateX(-50%);\n      transition: left 300ms, transform 300ms;\n      font-size: ${fontSize};\n    }\n\n    &:focus::placeholder {\n      left: 0;\n      transform: translateX(${heightSize});\n    }\n\n    & + svg {\n      position: absolute;\n      top: 50%;\n      left: calc(50% - 2.5 * ${fontSize});\n      transform: translate(-50%, -50%);\n      transition: left 300ms, transform 300ms;\n      cursor: text;\n    }\n\n    &:focus + svg,\n    &:not(:placeholder-shown) + svg {\n      left: calc(${heightSize} * 0.55);\n    }\n  }\n`;\n\nexport const Button = styled.button`\n  position: absolute;\n  top: 50%;\n  right: calc(${heightSize} * 0.55);\n  width: 20px;\n  height: 20px;\n\n  transform: translate(50%, -50%);\n  border: 1px solid transparent;\n  border-radius: 50%;\n  background-color: gray;\n  color: white;\n  font-weight: 700;\n  font-size: ${fontSize};\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { BsSearch } from 'react-icons/bs';\n\nimport { Div, Button } from './Filter.styled';\nimport { selectFilterValue } from 'store/seletors';\nimport { setFilterValue } from 'store/contacts/contactsSlice';\n\nexport const Filter = () => {\n  const filterValue = useSelector(selectFilterValue);\n  const dispatch = useDispatch();\n\n  const handleClick = e => e.target.previousElementSibling.focus();\n  const handleSearch = e => dispatch(setFilterValue(e.target.value));\n\n  return (\n    <Div>\n      <input\n        type=\"text\"\n        name=\"filter\"\n        placeholder=\"Search\"\n        value={filterValue}\n        onChange={handleSearch}\n      />\n      <BsSearch size=\"16\" onClick={handleClick} />\n      {filterValue && <Button onClick={handleSearch}>âœ•</Button>}\n    </Div>\n  );\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  width: 100%;\n  padding: 20px 0;\n  display: inline-flex;\n  flex-direction: column;\n\n  font-weight: 500;\n  counter-reset: section;\n\n  /* counter-reset: section; */\n  /* list-style-type: none; */\n\n  li {\n    margin-bottom: 10px;\n    display: inline-flex;\n    padding: 3px 10px 1px;\n    border-radius: 5px;\n\n    gap: 5px;\n    cursor: pointer;\n\n    &::before {\n      counter-increment: section;\n      content: counters(section, '.') '.';\n    }\n\n    button {\n      margin-left: auto;\n      padding: 0;\n      background-color: transparent;\n      border-color: transparent;\n      font-weight: 700;\n\n      &:hover,\n      &:focus {\n        color: tomato;\n      }\n    }\n  }\n  & .active {\n    background-color: teal;\n    color: white;\n  }\n`;\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { List } from './ContactList.styled';\nimport { fetchContactsThunk } from 'store/contacts/contactsOperations';\nimport { deleteContactThunk } from 'store/contacts/contactsOperations';\nimport { setActiveContact } from 'store/contacts/contactsSlice';\nimport { useContacts } from 'utils/hooks';\n\nexport const ContactList = () => {\n  const dispatch = useDispatch();\n  const { contacts, activeContact, filterValue } = useContacts();\n\n  useEffect(() => {\n    dispatch(fetchContactsThunk());\n  }, [dispatch]);\n\n  useEffect(() => {\n    // remove previous '.active' class\n    let activeEl = document.querySelector('li[data-id].active');\n    activeEl?.classList.remove('active');\n    // set '.active' class\n    activeEl = document.querySelector(`li[data-id=\"${activeContact?._id}\"]`);\n    if (!activeEl) {\n      activeEl = document.querySelector('li[data-id]');\n      const activeContact = contacts.find(el => el._id === activeEl.dataset.id);\n      dispatch(setActiveContact(activeContact));\n    }\n    activeEl?.classList.add('active');\n  }, [activeContact, contacts, dispatch]);\n\n  const filtredContacts = contacts.filter(el => {\n    return el.name.toLowerCase().includes(filterValue.toLowerCase());\n  });\n\n  const handleClick = e => {\n    const { id } = e.target.dataset;\n    const activeContact = contacts.find(el => el._id === id);\n    dispatch(setActiveContact(activeContact));\n  };\n\n  return (\n    <List>\n      {filtredContacts.map(contact => (\n        <li key={contact._id} data-id={contact._id} onClick={handleClick}>\n          {contact.name}\n          <button onClick={() => dispatch(deleteContactThunk(contact._id))}>\n            Delete\n          </button>\n        </li>\n      ))}\n    </List>\n  );\n};\n","import { useAuth, useContacts } from 'utils/hooks';\n\nconst ContactCard = () => {\n  const { userId } = useAuth();\n  const { activeContact, isLoading } = useContacts();\n\n  const shouldRender = !isLoading && userId === activeContact?.owner;\n  const off = ['_id', 'name', 'group', 'favorite', 'owner'];\n\n  return (\n    <ul>\n      {shouldRender &&\n        Object.keys(activeContact).map(\n          key =>\n            !off.includes(key) &&\n            activeContact[key] && (\n              <li key={key}>{`${key}: ${activeContact[key]}`}</li>\n            )\n        )}\n    </ul>\n  );\n};\n\nexport default ContactCard;\n","import { OvalLoader } from 'components/common/Loader/OvalLoader';\n\nimport { useAuth, useContacts } from 'utils/hooks';\nimport { FlexWrapper } from 'components/common/FlexWrapper/FlexWrapper';\nimport { Container } from 'components/common/Container/Container';\nimport { Filter } from 'components/Filter/Filter';\nimport { ContactList } from 'components/ContactList/ContactList';\nimport ContactCard from 'components/ContactCard/ContactCard';\n\nconst Contacts = () => {\n  const { userId } = useAuth();\n  const { activeContact, isLoading } = useContacts();\n\n  const title = userId === activeContact?.owner ? activeContact?.name : '';\n\n  return (\n    <FlexWrapper>\n      <Container pi=\"0\">\n        <Filter /> <br />\n        <ContactList />\n      </Container>\n\n      <Container t2={title}>\n        <ContactCard />\n      </Container>\n\n      {isLoading && <OvalLoader />}\n    </FlexWrapper>\n  );\n};\n\nexport default Contacts;\n"],"names":["useContacts","contacts","useSelector","selectors","activeContact","filterValue","error","isLoading","Div","styled","FlexWrapper","children","heightSize","fontSize","Button","Filter","selectFilterValue","dispatch","useDispatch","handleSearch","e","setFilterValue","target","value","type","name","placeholder","onChange","size","onClick","previousElementSibling","focus","List","ContactList","useEffect","fetchContactsThunk","activeEl","document","querySelector","classList","remove","_id","find","el","dataset","id","setActiveContact","add","filtredContacts","filter","toLowerCase","includes","handleClick","map","contact","deleteContactThunk","userId","useAuth","shouldRender","owner","off","Object","keys","key","title","Container","pi","t2","OvalLoader"],"sourceRoot":""}