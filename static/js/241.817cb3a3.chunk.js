"use strict";(self.webpackChunkmern_phonebook=self.webpackChunkmern_phonebook||[]).push([[241],{4241:function(n,e,t){t.r(e),t.d(e,{default:function(){return X}});var r,i,o,a,s,c,l,d,u,p=t(9439),f=t(2791),m=t(1452),h=t(9011),x=t(6990),g=t(5183),v=t(9434),b=t(9126),Z=t(168),w=t(6444),y=t(15),j="30px",z="14px",k=w.ZP.div(r||(r=(0,Z.Z)(["\n  width: 100%;\n  position: relative;\n  display: inline-block;\n\n  input {\n    width: 100%;\n    height: ",";\n    padding-inline: ",";\n\n    border: 1px solid ",";\n    border-radius: ",";\n    outline: transparent;\n    transition: border-color 250ms;\n\n    &:hover,\n    &:focus {\n      border-color: ",";\n    }\n\n    &::placeholder {\n      width: fit-content;\n      position: absolute;\n      left: 50%;\n      transform: translateX(-50%);\n      transition: left 300ms, transform 300ms;\n      font-size: ",";\n    }\n\n    &:focus::placeholder {\n      left: 0;\n      transform: translateX(",");\n    }\n\n    & + svg {\n      position: absolute;\n      top: 50%;\n      left: calc(50% - 2.5 * ",");\n      transform: translate(-50%, -50%);\n      transition: left 300ms, transform 300ms, fill 300ms;\n      cursor: text;\n    }\n\n    &:focus + svg,\n    &:not(:placeholder-shown) + svg {\n      left: calc("," * 0.55);\n      fill: ",";\n    }\n  }\n"])),j,j,y.n.colors.border,y.n.radius.s,y.n.colors.hovered,z,j,z,j,y.n.colors.accent),_=w.ZP.button(i||(i=(0,Z.Z)(["\n  width: 18px;\n  height: 18px;\n\n  position: absolute;\n  top: 50%;\n  right: calc("," * 0.55);\n\n  transform: translate(50%, -50%);\n  border: 1px solid transparent;\n  border-radius: 50%;\n  background-color: ",";\n  color: ",";\n  font-weight: 700;\n  font-size: 12px;\n"])),j,y.n.colors.border,y.n.colors.white),N=t(8921),C=t(6263),A=t(3329),O=function(){var n=(0,v.v9)(N.Gd),e=(0,v.I0)(),t=function(n){return e((0,C.hL)(n.target.value))};return(0,A.jsxs)(k,{children:[(0,A.jsx)("input",{type:"text",name:"filter",placeholder:"Search",value:n,onChange:t}),(0,A.jsx)(b.dVI,{size:"16",onClick:function(n){return n.target.previousElementSibling.focus()}}),n&&(0,A.jsx)(_,{onClick:t,children:"\u2715"})]})},L=w.ZP.ul(o||(o=(0,Z.Z)(["\n  width: 100%;\n  margin-top: 10px;\n  padding: 0;\n  display: inline-flex;\n  flex-direction: column;\n\n  font-weight: 500;\n  counter-reset: section;\n  list-style-type: none;\n\n  li {\n    display: inline-flex;\n    padding: 3px 6px 1px;\n\n    gap: 5px;\n    cursor: pointer;\n    transition: color 250ms;\n\n    &:hover,\n    &:focus {\n      color: ",";\n    }\n\n    &::before {\n      counter-increment: section;\n      content: counters(section, '.') '.';\n    }\n  }\n\n  & .active {\n    background-color: ",";\n    color: ",";\n\n    &:hover,\n    &:focus {\n      color: ",";\n      cursor: default;\n    }\n  }\n"])),y.n.colors.hovered,y.n.colors.accent,y.n.colors.white,y.n.colors.white),E=t(6312),S=function(){var n=(0,v.I0)(),e=(0,m.gW)(),t=e.contacts,r=e.activeContact,i=e.filterValue;(0,f.useEffect)((function(){n((0,E.VC)())}),[n]),(0,f.useEffect)((function(){var e,i,o=document.querySelector("li[data-id].active");null===(e=o)||void 0===e||e.classList.remove("active"),null===(i=o=r?document.querySelector('li[data-id="'.concat(r._id,'"]')):document.querySelector("li[data-id]"))||void 0===i||i.classList.add("active");var a=o?t.find((function(n){return n._id===o.dataset.id})):null;n((0,C.BL)(a))}),[r,t,n]);var o=t.filter((function(n){var e=i.toLowerCase();return n.firstName.toLowerCase().includes(e)||n.lastName.toLowerCase().includes(e)})),a=function(e){var r=e.target.dataset.id,i=t.find((function(n){return n._id===r}));n((0,C.BL)(i))};return(0,A.jsx)(L,{children:o.map((function(n){return(0,A.jsxs)("li",{"data-id":n._id,onClick:a,children:[n.firstName," ",n.lastName]},n._id)}))})},q=t(1545),R=t(3524),K=t(6968),P=t(2601),W=w.ZP.div(a||(a=(0,Z.Z)(["\n  margin-bottom: 15px;\n  margin-left: 22%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n  grid-column-gap: 10px;\n\n  & a {\n    padding: 3px;\n    width: 26px;\n    height: 26px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    border-radius: 50%;\n    border: 1px solid ",";\n    background-color: ",";\n    transition: border-color 250ms, background-color 250ms;\n\n    &:hover,\n    &:focus {\n      cursor: pointer;\n      border-color: ",";\n      background-color: ",";\n    }\n\n    & svg {\n      fill: ",";\n    }\n  }\n"])),y.n.colors.border,y.n.colors.white,y.n.colors.hovered,y.n.colors.ligthBlue,y.n.colors.hovered),H=w.ZP.ul(s||(s=(0,Z.Z)(["\n  margin-bottom: 10px;\n\n  list-style: none;\n  font-size: 12px;\n\n  @media screen and (width >= 768px) {\n    font-size: 14px;\n  }\n\n  @media screen and (width >= 1280px) {\n    font-size: 16px;\n  }\n\n  & li {\n    padding-block: 5px;\n    display: grid;\n    grid-template-columns: 1fr 4fr;\n    grid-column-gap: 20px;\n\n    & span {\n      &:nth-of-type(1) {\n        text-align: right;\n\n        color: ",";\n\n        @media screen and (width < 768px) {\n          letter-spacing: -1px;\n        }\n      }\n      &:nth-of-type(2) {\n        text-align: left;\n      }\n    }\n\n    &:not(:last-of-type) {\n      border-bottom: 1px solid ",";\n    }\n  }\n\n  & + div {\n    padding-left: 22%;\n\n    @media screen and (width >= 768px) {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      width: 100%;\n    }\n  }\n"])),y.n.colors.placeholder,y.n.colors.border),I=function(n){var e=n.triggerForm,t=(0,v.I0)(),r=(0,m.gW)().activeContact,i={phone:{href:"tel:".concat(null===r||void 0===r?void 0:r.phone),icon:(0,A.jsx)(b.SPk,{size:"14"})},email:{href:"mailto:".concat(null===r||void 0===r?void 0:r.email),icon:(0,A.jsx)(b.lZw,{size:"14"})},whatsapp:{href:"https://wa.me/".concat(null===r||void 0===r?void 0:r.whatsapp),icon:(0,A.jsx)(b.RGt,{size:"14"})},viber:{href:"viber://chat?number:+".concat(null===r||void 0===r?void 0:r.viber),icon:(0,A.jsx)(q.i86,{size:"20"})},telegram:{href:"https://t.me/".concat(null===r||void 0===r?void 0:r.telegram.replace("@","")),icon:(0,A.jsx)(q.Gke,{size:"16"})},linkedin:{href:null===r||void 0===r?void 0:r.linkedin,icon:(0,A.jsx)(q.KCg,{size:"20"})},github:{href:null===r||void 0===r?void 0:r.github,icon:(0,A.jsx)(b.rFR,{size:"16"})},address:{href:(null===r||void 0===r?void 0:r.address)&&"https://www.google.com/maps/search/"+"".concat(null===r||void 0===r?void 0:r.address.split(/\s+/).join("+")),icon:(0,A.jsx)(R.jCW,{size:"16"})}};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(W,{children:r&&Object.keys(i).map((function(n){return r[n]&&(0,A.jsx)("a",{href:i[n].href,target:"_blank",rel:"noreferrer",children:i[n].icon},i[n].href)}))}),(0,A.jsx)(H,{children:r&&Object.keys(r).map((function(n){return P.VK.includes(n)&&r[n]&&(0,A.jsxs)("li",{children:[(0,A.jsxs)("span",{children:["".concat(n),":"]}),(0,A.jsx)("span",{children:"".concat(r[n])})]},n)}))}),(0,A.jsxs)(x.Z,{mm:"40px",cg:"3vw",children:[(0,A.jsx)(K.Z,{onClick:function(){return e("add")},children:"Add"}),(0,A.jsx)(K.Z,{disabled:!r,onClick:function(){return e("edit")},children:"Edit"}),(0,A.jsx)(K.Z,{disabled:!r,onClick:function(){t((0,E.xX)(r._id))},children:"Delete"})]})]})},M=t(4942),F=t(1413),T=t(5705),$=t(2797),B=(0,w.ZP)(T.l0)(c||(c=(0,Z.Z)(["\n  position: relative;\n  font-size: 12px;\n\n  @media screen and (width >= 768px) {\n    font-size: 14px;\n  }\n\n  @media screen and (width >= 1280px) {\n    font-size: 16px;\n  }\n\n  & #grid {\n    padding-left: 22%;\n\n    @media screen and (width > 768px) {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      width: 100%;\n    }\n  }\n\n  /* dynamic input width */\n  & #first,\n  & #last,\n  span {\n    padding: 0;\n    font-size: 16px;\n    font-weight: 700;\n    font-family: 'Montserrat', sans-serif;\n\n    @media screen and (width >= 768px) {\n      font-size: 20px;\n    }\n\n    @media screen and (width >= 1280px) {\n      font-size: 26px;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n\n    &:first-of-type {\n      margin: 10px 0 10px 22%;\n    }\n  }\n\n  & #first {\n    width: ",";\n  }\n\n  & #last {\n    width: ",";\n  }\n\n  & .wrapper:not(:nth-last-of-type(2)) {\n    border-bottom: 1px solid ",";\n  }\n\n  & span {\n    position: absolute;\n    left: 100%;\n    bottom: 0;\n    color: transparent;\n  }\n"])),y.n.colors.placeholder,(function(n){var e=n.fnw;return"".concat(e,"px")}),(function(n){var e=n.lnw;return"".concat(e,"px")}),y.n.colors.border),V=w.ZP.label(l||(l=(0,Z.Z)(["\n  padding-block: 2px;\n  display: grid;\n  grid-template-columns: 1fr 4fr;\n  grid-column-gap: 20px;\n  text-align: right;\n  align-items: center;\n\n  color: ",";\n  font-size: 12px;\n\n  @media screen and (width >= 768px) {\n    font-size: 14px;\n  }\n\n  @media screen and (width >= 1280px) {\n    font-size: 16px;\n  }\n\n  @media screen and (width < 768px) {\n    letter-spacing: -1px;\n  }\n"])),y.n.colors.placeholder),D=(0,w.ZP)(T.gN)(d||(d=(0,Z.Z)(["\n  padding-block: 3px;\n  text-align: left;\n  background-color: transparent;\n\n  border: 1px solid transparent;\n  outline: transparent;\n  font-family: 'Roboto', sans-serif;\n  font-size: 12px;\n  color: ",";\n  transition: border-color 250ms;\n\n  &:-webkit-autofill,\n  &:-webkit-autofill:hover,\n  &:-webkit-autofill:focus {\n    -webkit-box-shadow: 0 0 0px 1000px transparent inset;\n  }\n\n  @media screen and (width >= 768px) {\n    font-size: 14px;\n  }\n\n  @media screen and (width >= 1280px) {\n    font-size: 16px;\n  }\n\n  &:hover,\n  &:focus {\n    border-color: ",";\n  }\n"])),y.n.colors.black,y.n.colors.hovered),G=(0,w.ZP)(T.Bc)(u||(u=(0,Z.Z)(["\n  margin-left: 22%;\n  padding-bottom: 5px;\n  font-size: 12px;\n  font-family: 'Roboto', sans-serif;\n  color: ",";\n"])),y.n.colors.error),J={},U=function(n){var e=n.triggerForm,t=n.isContactForm,r=(0,v.I0)(),i=(0,m.gW)(),o=i.contacts,a=i.activeContact,s=(0,f.useState)({firstName:null,lastName:null}),c=(0,p.Z)(s,2),l=c[0],d=c[1],u=document.querySelector("span"),h=function(n){return n.getBoundingClientRect().width+8};(0,f.useEffect)((function(){var n=J.firstName,e=J.lastName,t=document.querySelector(".first-name"),r=document.querySelector(".last-name");t.innerHTML=n||"Name",r.innerHTML=e||"Surname",d((function(n){return(0,F.Z)((0,F.Z)({},n),{},{firstName:h(t)})})),d((function(n){return(0,F.Z)((0,F.Z)({},n),{},{lastName:h(r)})}))}),[]);var g;return(0,A.jsx)(T.J9,{initialValues:(g=t,P.Qs.forEach((function(n){return J[n]="edit"===g?a[n]:""})),J),validationSchema:$.OD,onSubmit:function(n,i){var s=n.firstName;if(o.some((function(n){return n.firstName.toLowerCase()===s.toLowerCase()}))&&"add"===t)return alert("".concat(s," is already in contacts!"));r("add"===t?(0,E.je)(n):(0,E.KY)({id:a._id,contact:n})),e(!1),i.resetForm()},children:(0,A.jsxs)(B,{onChange:function(n){var e=n.target,t=e.name,r=e.value,i=e.placeholder;u.innerHTML=r||i,d((function(n){return(0,F.Z)((0,F.Z)({},n),{},(0,M.Z)({},t,h(u)))}))},fnw:l.firstName,lnw:l.lastName,children:[(0,A.jsx)(G,{name:"firstName",component:"div"}),(0,A.jsx)(G,{name:"lastName",component:"div"}),(0,A.jsx)(D,{id:"first",type:"text",name:"firstName",placeholder:"Name"}),(0,A.jsx)(D,{id:"last",type:"text",name:"lastName",placeholder:"Surname"}),P.VK.map((function(n){return(0,A.jsxs)("div",{className:"wrapper",children:[(0,A.jsxs)(V,{children:[n,":",(0,A.jsx)(D,{type:"text",name:n})]}),(0,A.jsx)(G,{name:n,component:"div"})]},n)})),(0,A.jsxs)(x.Z,{mm:"40px",cg:"3vw",gtc:"1fr 1fr 1fr",children:[(0,A.jsx)(K.Z,{type:"submit",children:"Save"}),(0,A.jsx)(K.Z,{type:"button",onClick:function(){return e(!1)},children:"Cancel"})]}),(0,A.jsx)("span",{}),(0,A.jsx)("span",{className:"first-name"}),(0,A.jsx)("span",{className:"last-name"})]})})},X=function(){var n=(0,f.useState)(!1),e=(0,p.Z)(n,2),t=e[0],r=e[1],i=(0,f.useState)(!1),o=(0,p.Z)(i,2),a=o[0],s=o[1],c=(0,m.aC)().user,l=(0,m.gW)(),d=l.activeContact,u=l.isLoading,v=u||c._id!==(null===d||void 0===d?void 0:d.owner)?"":"".concat(null===d||void 0===d?void 0:d.firstName," ").concat(null===d||void 0===d?void 0:d.lastName),b=window.innerHeight>600?"calc(100vh - 90px)":"510px",Z=document.querySelector("header");(0,f.useEffect)((function(){return r((null===Z||void 0===Z?void 0:Z.clientWidth)<=300),window.addEventListener("resize",(function(n){r((null===Z||void 0===Z?void 0:Z.clientWidth)<=300)})),function(){window.removeEventListener("resize",(function(n){r((null===Z||void 0===Z?void 0:Z.clientWidth)<=300)}))}}),[Z]);var w=function(n){s(n)};return(0,A.jsxs)(x.Z,{h:b,gtc:"2fr 3fr",children:[(0,A.jsxs)(g.Z,{p:"0",t1:"Contacts",children:[(0,A.jsx)(O,{})," ",(0,A.jsx)("br",{}),(0,A.jsx)(S,{})]}),a&&(0,A.jsx)(U,{triggerForm:w,isContactForm:a}),!a&&!t&&(0,A.jsx)(g.Z,{p:"0",mt:"10px 0 10px 22%",t2:v,children:!u&&(0,A.jsx)(I,{triggerForm:w})}),u&&(0,A.jsx)(h.Z,{})]})}},2601:function(n,e,t){t.d(e,{VK:function(){return f},Qs:function(){return m},T6:function(){return h},bO:function(){return r}});var r={};t.r(r),t.d(r,{o4:function(){return p},Hu:function(){return u},xK:function(){return o},W3:function(){return d},W_:function(){return c},fW:function(){return l},A1:function(){return i},Kx:function(){return a},hJ:function(){return s}});var i={name:"NAME",msg:"only letters, numbers, underscores, dashes, spases",pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]+(([_ -][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},o={name:"EMAIL",msg:"test@test.com, test@test.ua",pattern:/^\w+([\\.-]?\w+)*@\w+([\\.-]?\w+)*(\.\w{2,3})+$/},a={name:"PHONE",msg:"only digits, spaces, dashes, parentheses, can start with +",pattern:/^([+]?[\s0-9]+)?(\d{3}|[(]?[0-9]+[)])?([-]?[\s]?[0-9])+$/},s={name:"TELEGRAM",msg:"only letters and numbers,  more than five, start with @",pattern:/.*\B@(?=\w{5,32}\b)[a-zA-Z0-9]+(?:_[a-zA-Z0-9]+)*$/},c={name:"HTTP_LINK",msg:"http(s)://.../...",pattern:/^(http(s)?:\/\/)?(([_.-][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)+\/(([_-][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},l={name:"LINKEDIN",msg:"http(s)://linkedin.com/...",pattern:/^(http(s)?:\/\/)?([\w]+\.)?linkedin\.com\/(pub|in|profile)+\/(([_-][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},d={name:"GITHUB",msg:"http(s)://www.github.com/...",pattern:/^(http(s?):\/\/)?(www\.)?github\.com+\/(([_-][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},u={name:"DATE",msg:"dd.mm.yyyy",pattern:/^([0-2^([0-2][0-9]|(3)[0-1])(\.)(((0)[0-9])|((1)[0-2]))(\.)((19|20)\d{2}$)/},p={name:"ADDRESS",msg:"only letters, numbers, commas, dashes, spases",pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]+(([ -]|(, )[a-zA-Z\u0430-\u044f\u0410-\u042f0-9])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},f=["phone","email","whatsapp","viber","telegram","linkedin","github","address","birthday","notes"],m=["firstName","lastName"].concat(f),h=["name","email","whatsApp","telegram","location","socialLink","birthday","about"]},1452:function(n,e,t){t.d(e,{EO:function(){return s},aC:function(){return r.a},gW:function(){return a}});var r=t(7286),i=t(9434),o=t(8921),a=function(){return{contacts:(0,i.v9)(o.Af),activeContact:(0,i.v9)(o.Pd),filterValue:(0,i.v9)(o.Gd),error:(0,i.v9)(o.zh),isLoading:(0,i.v9)(o.xU)}},s=function(n){return n.replace("-"," ").split(/\s+/).reduce((function(n,e){return n+e.at(0).toUpperCase()}),"").substring(0,3)}},2797:function(n,e,t){t.d(e,{JJ:function(){return P},OD:function(){return H},Hj:function(){return q},jE:function(){return K},kM:function(){return R},M7:function(){return E},if:function(){return L},I2:function(){return S}});var r,i,o,a,s,c,l,d,u,p,f,m,h,x,g,v,b,Z,w=t(3433),y=t(6727),j=t(2601),z=function(n){return[n.pattern,n.msg]},k=(r=y.Z_().min(4,"is too short").required("is required")).matches.apply(r,(0,w.Z)(z(j.bO.A1))),_=(i=y.Z_().required("is required")).matches.apply(i,(0,w.Z)(z(j.bO.xK))),N=y.Z_().min(6,"is too short").required("is required"),C=y.Rx().required("is required").typeError("must be a number"),A=1048576,O=y.nK().test("size"," max file size: ".concat(1,"MB"),(function(n){return!n||n.size<=A})).test("type","invalid file type",(function(n){return!n||n.type.includes("image")})),L=y.Ry().shape({name:k,email:_,password:N}),E=y.Ry().shape({email:_,password:N}),S=y.Ry().shape({verificationCode:C}),q=y.Ry().shape({email:_}),R=y.Ry().shape({newPass:N,confirmPass:N.oneOf([y.iH("newPass")],"must match")}),K=y.Ry().shape({name:k,email:_,whatsApp:(o=y.Z_()).matches.apply(o,(0,w.Z)(z(j.bO.Kx))),telegram:(a=y.Z_()).matches.apply(a,(0,w.Z)(z(j.bO.hJ))),location:(s=y.Z_()).matches.apply(s,(0,w.Z)(z(j.bO.o4))),socialLink:(c=y.Z_()).matches.apply(c,(0,w.Z)(z(j.bO.W_))),birthday:(l=y.Z_()).matches.apply(l,(0,w.Z)(z(j.bO.Hu))),about:y.Z_()}),P=y.Ry().shape({avatar:O}),W=function(n){return[n.pattern,n.msg]},H=y.Ry().shape({firstName:(d=y.Z_().required("Required")).matches.apply(d,(0,w.Z)(W(j.bO.A1))),lastName:(u=y.Z_()).matches.apply(u,(0,w.Z)(W(j.bO.A1))),phone:(p=y.Z_().required("Required")).matches.apply(p,(0,w.Z)(W(j.bO.Kx))),email:(f=y.Z_()).matches.apply(f,(0,w.Z)(W(j.bO.xK))),whatsapp:(m=y.Z_()).matches.apply(m,(0,w.Z)(W(j.bO.Kx))),viber:(h=y.Z_()).matches.apply(h,(0,w.Z)(W(j.bO.Kx))),telegram:(x=y.Z_()).matches.apply(x,(0,w.Z)(W(j.bO.hJ))),linkedin:(g=y.Z_()).matches.apply(g,(0,w.Z)(W(j.bO.fW))),github:(v=y.Z_()).matches.apply(v,(0,w.Z)(W(j.bO.W3))),address:(b=y.Z_()).matches.apply(b,(0,w.Z)(W(j.bO.o4))),birthday:(Z=y.Z_()).matches.apply(Z,(0,w.Z)(W(j.bO.Hu))),notes:y.Z_()})}}]);
//# sourceMappingURL=241.817cb3a3.chunk.js.map