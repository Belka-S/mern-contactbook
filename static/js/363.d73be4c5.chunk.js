"use strict";(self.webpackChunkmern_phonebook=self.webpackChunkmern_phonebook||[]).push([[363],{5363:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var r,o,a,i,s,c,l,u,p,d,f,m,h,b=t(9439),x=t(2791),g=t(6990),Z=t(9434),v=t(6968),y=t(1452),w=t(6459),k=t(2601),j=t(168),_=t(6444),O=t(15),A=_.ZP.div(r||(r=(0,j.Z)(["\n  position: relative;\n\n  & #grid:last-of-type {\n    padding-left: 21%;\n\n    @media screen and (width > 768px) {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      width: 100%;\n    }\n  }\n"]))),z=_.ZP.div(o||(o=(0,j.Z)(["\n  padding-block: 2px;\n  display: grid;\n  grid-template-columns: 1fr 4fr;\n  grid-column-gap: 20px;\n  text-align: right;\n\n  font-size: 20px;\n  font-weight: 500;\n\n  &:not(:nth-last-of-type(2)) {\n    border-bottom: 1px solid ",";\n  }\n\n  & span {\n    padding-block: 5px;\n    text-align: start;\n\n    &:nth-of-type(2n + 1) {\n      text-align: end;\n      color: ",";\n\n      &::first-letter {\n        text-transform: lowercase;\n      }\n    }\n  }\n"])),O.n.colors.border,O.n.colors.placeholder),P=_.ZP.div(a||(a=(0,j.Z)(["\n  position: relative;\n  width: 200px;\n  height: 200px;\n  margin: 12px 0 20px 3vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-family: 'Averia Sans Libre', sans-serif;\n  font-size: 72px;\n  font-weight: 700;\n\n  border-radius: 50%;\n  background-color: ",";\n  background-image: ",";\n  background-size: cover;\n\n  &::after {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    ",";\n    width: 200px;\n    height: 200px;\n    color: ",";\n  }\n"])),O.n.colors.white,(function(n){var e=n.url;return"url(".concat(e,")")}),(function(n){var e=n.abbr;return'content:"'.concat(e,'"')}),O.n.colors.placeholder),R=t(3329),E=function(n){var e=n.setIsProfileForm,t=(0,Z.I0)(),r=(0,y.aC)().user,o=(0,y.EO)(r.name);return(0,R.jsxs)(A,{children:[(0,R.jsx)(P,{url:r.avatarUrl,abbr:r.avatarUrl?"":o}),k.T6.map((function(n){return r[n]&&(0,R.jsxs)(z,{children:[(0,R.jsxs)("span",{children:[n,":"]}),(0,R.jsx)("span",{children:r[n]})]},n)})),(0,R.jsxs)(g.Z,{mm:"40px",cg:"3vw",gtc:"1fr 1fr 1fr",children:[(0,R.jsx)(v.Z,{onClick:function(){return e(!0)},children:"Edit"}),(0,R.jsx)("div",{}),(0,R.jsx)(v.Z,{onClick:function(){window.confirm("Do you want to delete your profile and data?")&&t((0,w.Rk)())},children:"Delete"})]})]})},C=t(5705),L=t(5861),q=t(4687),I=t.n(q),K=t(5183),M=t(2797),N=t(9126),S=_.ZP.input(i||(i=(0,j.Z)(["\n  position: relative;\n  width: 200px;\n  height: 200px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-family: 'Averia Sans Libre', sans-serif;\n  font-size: 72px;\n  font-weight: 700;\n\n  border-radius: 50%;\n  background-color: ",";\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  cursor: pointer;\n  color: transparent;\n\n  &::after {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    ",";\n    width: 200px;\n    height: 200px;\n    color: ",";\n  }\n\n  // &::-webkit-file-upload-button\n  &::file-selector-button {\n    display: none;\n  }\n\n  outline: 1px solid;\n  outline-color: ",";\n\n  transition: border-color 250ms, outline-color 250ms;\n\n  &:hover,\n  &:focus {\n    outline-color: ",";\n\n    & + svg {\n      border-color: ",";\n      fill: ",";\n    }\n  }\n"])),O.n.colors.white,(function(n){var e=n.url;return"url(".concat(e,")")}),(function(n){var e=n.abbr;return'content:"'.concat(e,'"')}),O.n.colors.placeholder,(function(n){var e=n.validation;switch(e){case"noValue":return"transparent";case e:return O.n.colors[e]}}),O.n.colors.hovered,O.n.colors.hovered,O.n.colors.hovered),T=_.ZP.span(s||(s=(0,j.Z)(["\n  font-size: 14px;\n  font-family: 'Roboto', sans-serif;\n  color: ",";\n"])),O.n.colors.error),F=(0,_.iv)(c||(c=(0,j.Z)(["\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  bottom: 40px;\n  left: 205px;\n  border: 1px solid ",";\n  border-radius: 50%;\n  background-color: ",";\n  cursor: pointer;\n  transition: border-color 250ms, fill 250ms;\n"])),O.n.colors.border,O.n.colors.white),V=(0,_.ZP)(N.L3d)(l||(l=(0,j.Z)(["\n  ",";\n\n  &:hover,\n  &:focus {\n    border-color: ",";\n    fill: ",";\n  }\n"])),F,O.n.colors.hovered,O.n.colors.hovered),H=(0,_.ZP)(N.oFd)(u||(u=(0,j.Z)(["\n  ",";\n\n  border-color: ",";\n  fill: ",";\n"])),F,O.n.colors.success,O.n.colors.success),U=(0,_.ZP)(N.Vgl)(p||(p=(0,j.Z)(["\n  ",";\n\n  border-color: ",";\n  fill: ",";\n"])),F,O.n.colors.error,O.n.colors.error),$=function(n){var e=n.setFieldValue,t=(0,x.useRef)(null),r=(0,y.aC)().user,o=(0,x.useState)(r.avatarUrl),a=(0,b.Z)(o,2),i=a[0],s=a[1],c=(0,x.useState)(""),l=(0,b.Z)(c,2),u=l[0],p=l[1],d=(0,x.useState)(!1),f=(0,b.Z)(d,2),m=f[0],h=f[1],g=(0,y.EO)(r.name),Z=function(){var n=(0,L.Z)(I().mark((function n(e,t){var r,o;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.target.files[0],n.prev=1,n.next=4,M.JJ.validate({avatar:r});case 4:o=URL.createObjectURL(r),p(""),s(o),t("avatar",r),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("error: ",n.t0.message),n.t0.message.includes("URL")||p(n.t0.message),s("");case 15:e.target.blur();case 16:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}(),v=function(){return!(i.includes("blob")||u)&&"noValue"||(u?"error":"success")};return(0,R.jsxs)(K.Z,{m:"0",p:"12px 0 20px 3vw",d:"flex",ai:"end",children:[(0,R.jsx)(S,{type:"file",name:"avatar",accept:"image/*",ref:t,validation:v(),url:i,abbr:i?"":g,onChange:function(n){return Z(n,e)},onMouseOver:function(){return h(!0)},onMouseOut:function(){return h(!1)}}),("noValue"===v()||m)&&(0,R.jsx)(V,{onClick:function(){return t.current.click()},onMouseOver:function(n){h(!0),n.relatedTarget.focus()},onMouseOut:function(n){h(!1),n.relatedTarget.blur()}}),"success"===v()&&!m&&(0,R.jsx)(H,{}),"error"===v()&&!m&&(0,R.jsx)(U,{}),u&&(0,R.jsx)(T,{children:u})]})},D=(0,_.ZP)(C.l0)(d||(d=(0,j.Z)(["\n  position: relative;\n\n  & .wrapper:not(:nth-last-of-type(2)) {\n    border-bottom: 1px solid ",";\n  }\n\n  & #grid:last-of-type {\n    padding-left: 21%;\n\n    @media screen and (width > 768px) {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      width: 100%;\n    }\n  }\n"])),O.n.colors.border),J=_.ZP.label(f||(f=(0,j.Z)(["\n  padding-block: 2px;\n  display: grid;\n  grid-template-columns: 1fr 4fr;\n  grid-column-gap: 20px;\n  text-align: right;\n  align-items: center;\n\n  color: ",";\n  font-size: 20px;\n  font-weight: 500;\n"])),O.n.colors.placeholder),W=(0,_.ZP)(C.gN)(m||(m=(0,j.Z)(["\n  text-align: left;\n  background-color: transparent;\n  padding: 5px 0;\n\n  border: 1px solid transparent;\n  outline: transparent;\n  transition: border-color 250ms;\n\n  font-family: 'Roboto', sans-serif;\n  font-size: 20px;\n  font-weight: 500;\n  color: ",";\n\n  &:-webkit-autofill,\n  &:-webkit-autofill:hover,\n  &:-webkit-autofill:focus {\n    -webkit-box-shadow: 0 0 0px 1000px transparent inset;\n  }\n\n  &:hover,\n  &:focus {\n    border-color: ",";\n  }\n"])),O.n.colors.black,O.n.colors.hovered),B=(0,_.ZP)(C.Bc)(h||(h=(0,j.Z)(["\n  margin-left: 22%;\n  padding-bottom: 5px;\n  font-size: 12px;\n  font-family: 'Roboto', sans-serif;\n  color: ",";\n"])),O.n.colors.error),G=function(n){var e=n.setIsProfileForm,t=(0,Z.I0)(),r=(0,y.aC)().user;return(0,R.jsx)(C.J9,{initialValues:function(){var n={avatar:""};return k.T6.forEach((function(e){return n[e]=r[e]})),n}(),validationSchema:M.jE,onSubmit:function(n,r){var o=new FormData;Object.keys(n).forEach((function(e){if("avatar"===e){if(!n[e])return;o.append(e,n[e])}else o.append(e,n[e].trim())})),t((0,w.Mp)(o)),e(!1),r.resetForm()},children:function(n){var t=n.setFieldValue;return(0,R.jsxs)(D,{children:[(0,R.jsx)($,{setFieldValue:t}),k.T6.map((function(n){return(0,R.jsxs)("div",{className:"wrapper",children:[(0,R.jsxs)(J,{children:[n,":",(0,R.jsx)(W,{type:"text",name:n})]}),(0,R.jsx)(B,{name:n,component:"div"})]},n)})),(0,R.jsxs)(g.Z,{mm:"40px",cg:"3vw",gtc:"1fr 1fr 1fr",children:[(0,R.jsx)(v.Z,{type:"submit",children:"Submit"}),(0,R.jsx)(v.Z,{onClick:function(){return e(!1)},children:"Cancel"})]})]})}})},Q=function(){var n=(0,y.aC)().isLoading,e=(0,x.useState)(!1),t=(0,b.Z)(e,2),r=t[0],o=t[1],a=window.innerHeight>600?"calc(100vh - 90px)":"510px";return(0,R.jsxs)(g.Z,{h:a,gtc:"2fr 3fr",children:[(0,R.jsx)("h1",{children:"Profile"}),r&&!n&&(0,R.jsx)(G,{setIsProfileForm:o}),!r&&!n&&(0,R.jsx)(E,{setIsProfileForm:o})]})}},2601:function(n,e,t){t.d(e,{VK:function(){return f},Qs:function(){return m},T6:function(){return h},bO:function(){return r}});var r={};t.r(r),t.d(r,{o4:function(){return d},Hu:function(){return p},xK:function(){return a},W3:function(){return u},W_:function(){return c},fW:function(){return l},A1:function(){return o},Kx:function(){return i},hJ:function(){return s}});var o={name:"NAME",msg:"only letters, numbers, underscores, dashes, spases",pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]+(([_ -][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},a={name:"EMAIL",msg:"test@test.com, test@test.ua",pattern:/^\w+([\\.-]?\w+)*@\w+([\\.-]?\w+)*(\.\w{2,3})+$/},i={name:"PHONE",msg:"only digits, spaces, dashes, parentheses, can start with +",pattern:/^([+]?[\s0-9]+)?(\d{3}|[(]?[0-9]+[)])?([-]?[\s]?[0-9])+$/},s={name:"TELEGRAM",msg:"only letters and numbers,  more than five, start with @",pattern:/.*\B@(?=\w{5,32}\b)[a-zA-Z0-9]+(?:_[a-zA-Z0-9]+)*$/},c={name:"HTTP_LINK",msg:"http(s)://.../...",pattern:/^(http(s)?:\/\/)?(([_.-][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)+\/(([_-][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},l={name:"LINKEDIN",msg:"http(s)://linkedin.com/...",pattern:/^(http(s)?:\/\/)?([\w]+\.)?linkedin\.com\/(pub|in|profile)+\/(([_-][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},u={name:"GITHUB",msg:"http(s)://www.github.com/...",pattern:/^(http(s?):\/\/)?(www\.)?github\.com+\/(([_-][a-zA-Z\u0430-\u044f\u0410-\u042f])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},p={name:"DATE",msg:"dd.mm.yyyy",pattern:/^([0-2^([0-2][0-9]|(3)[0-1])(\.)(((0)[0-9])|((1)[0-2]))(\.)((19|20)\d{2}$)/},d={name:"ADDRESS",msg:"only letters, numbers, commas, dashes, spases",pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]+(([ -]|(, )[a-zA-Z\u0430-\u044f\u0410-\u042f0-9])?[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]*)*$/},f=["phone","email","whatsapp","viber","telegram","linkedin","github","address","birthday","notes"],m=["firstName","lastName"].concat(f),h=["name","email","whatsApp","telegram","location","socialLink","birthday","about"]},1452:function(n,e,t){t.d(e,{EO:function(){return s},aC:function(){return r.a},gW:function(){return i}});var r=t(7286),o=t(9434),a=t(8921),i=function(){return{contacts:(0,o.v9)(a.Af),activeContact:(0,o.v9)(a.Pd),filterValue:(0,o.v9)(a.Gd),error:(0,o.v9)(a.zh),isLoading:(0,o.v9)(a.xU)}},s=function(n){return n.replace("-"," ").split(/\s+/).reduce((function(n,e){return n+e.at(0).toUpperCase()}),"").substring(0,3)}},2797:function(n,e,t){t.d(e,{JJ:function(){return M},OD:function(){return S},Hj:function(){return q},jE:function(){return K},kM:function(){return I},M7:function(){return C},if:function(){return E},I2:function(){return L}});var r,o,a,i,s,c,l,u,p,d,f,m,h,b,x,g,Z,v,y=t(3433),w=t(6727),k=t(2601),j=function(n){return[n.pattern,n.msg]},_=(r=w.Z_().min(4,"is too short").required("is required")).matches.apply(r,(0,y.Z)(j(k.bO.A1))),O=(o=w.Z_().required("is required")).matches.apply(o,(0,y.Z)(j(k.bO.xK))),A=w.Z_().min(6,"is too short").required("is required"),z=w.Rx().required("is required").typeError("must be a number"),P=1048576,R=w.nK().test("size"," max file size: ".concat(1,"MB"),(function(n){return!n||n.size<=P})).test("type","invalid file type",(function(n){return!n||n.type.includes("image")})),E=w.Ry().shape({name:_,email:O,password:A}),C=w.Ry().shape({email:O,password:A}),L=w.Ry().shape({verificationCode:z}),q=w.Ry().shape({email:O}),I=w.Ry().shape({newPass:A,confirmPass:A.oneOf([w.iH("newPass")],"must match")}),K=w.Ry().shape({name:_,email:O,whatsApp:(a=w.Z_()).matches.apply(a,(0,y.Z)(j(k.bO.Kx))),telegram:(i=w.Z_()).matches.apply(i,(0,y.Z)(j(k.bO.hJ))),location:(s=w.Z_()).matches.apply(s,(0,y.Z)(j(k.bO.o4))),socialLink:(c=w.Z_()).matches.apply(c,(0,y.Z)(j(k.bO.W_))),birthday:(l=w.Z_()).matches.apply(l,(0,y.Z)(j(k.bO.Hu))),about:w.Z_()}),M=w.Ry().shape({avatar:R}),N=function(n){return[n.pattern,n.msg]},S=w.Ry().shape({firstName:(u=w.Z_().required("Required")).matches.apply(u,(0,y.Z)(N(k.bO.A1))),lastName:(p=w.Z_()).matches.apply(p,(0,y.Z)(N(k.bO.A1))),phone:(d=w.Z_().required("Required")).matches.apply(d,(0,y.Z)(N(k.bO.Kx))),email:(f=w.Z_()).matches.apply(f,(0,y.Z)(N(k.bO.xK))),whatsapp:(m=w.Z_()).matches.apply(m,(0,y.Z)(N(k.bO.Kx))),viber:(h=w.Z_()).matches.apply(h,(0,y.Z)(N(k.bO.Kx))),telegram:(b=w.Z_()).matches.apply(b,(0,y.Z)(N(k.bO.hJ))),linkedin:(x=w.Z_()).matches.apply(x,(0,y.Z)(N(k.bO.fW))),github:(g=w.Z_()).matches.apply(g,(0,y.Z)(N(k.bO.W3))),address:(Z=w.Z_()).matches.apply(Z,(0,y.Z)(N(k.bO.o4))),birthday:(v=w.Z_()).matches.apply(v,(0,y.Z)(N(k.bO.Hu))),notes:w.Z_()})}}]);
//# sourceMappingURL=363.d73be4c5.chunk.js.map