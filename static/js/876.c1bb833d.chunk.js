"use strict";(self.webpackChunkmern_phonebook=self.webpackChunkmern_phonebook||[]).push([[876],{8876:function(e,r,n){n.r(r),n.d(r,{default:function(){return F}});var s=n(9439),t=n(2791),i=n(5183),o=n(8174),a=n(5705),u=n(9434),l=n(1839),c=n(2007),d=n.n(c),j=n(8144),h=n(3329),x=function(e){var r=e.onClick,n=e.fs,s=e.children;return(0,h.jsx)(j.u,{type:"button",onClick:r,fs:n,children:s})};j.u.propTypes={onClick:d().func.isRequired,fs:d().string,children:d().oneOfType([d().arrayOf(d().node),d().node]).isRequired};var f=n(8877),m=n(2916),p=n(7032),v=n(6459),g=n(2797),k=n(7775),b={email:"",password:""},y=function(e){var r=e.setIsVerify,n=e.setIsForgot,i=e.setEmail,c=(0,u.I0)(),d=(0,t.useState)("password"),j=(0,s.Z)(d,2),y=j[0],Z=j[1],C=function(e){var r=e.values,n=e.errors,s=e.key,t=!r[s]&&"noValue",i=n[s]?"error":"success";return t||i},S=function(e){var r=e.errors,n=e.values,s=Object.keys(r).length;return Object.keys(n).some((function(e){return!n[e]}))||s};return(0,h.jsx)(a.J9,{initialValues:b,validationSchema:g.M7,onSubmit:function(e,n){c((0,v.Fv)(e)).unwrap().then((function(e){return r(!e.result.user.verifiedEmail)})).catch((function(e){return e.includes("401")&&o.Am.error("Unauthorized")})),n.resetForm()},children:function(e){var r=e.values,s=e.errors;return(0,h.jsxs)(k.l0,{children:[(0,h.jsxs)(k.pG,{children:[(0,h.jsx)("h2",{children:"Sign in"}),(0,h.jsx)(l.Z,{to:"/signup",children:"Don't have an account?"})]}),Object.keys(b).map((function(e){return(0,h.jsxs)(t.Fragment,{children:[(0,h.jsxs)(k.__,{children:[e.at(0).toUpperCase()+e.substring(1)+":",(0,h.jsx)("pre",{children:" "}),(0,h.jsx)(k.CV,{name:e,component:"span"}),"password"===e&&(0,h.jsx)(x,{onClick:function(){return function(e){var r=e.email;i(r),n(!0)}(r)},children:"Forgot your pass?"})]}),(0,h.jsxs)(k.jJ,{children:[(0,h.jsx)(k.gN,{type:"password"===e?y:e,name:e,validation:C({values:r,errors:s,key:e})}),"password"===e&&(0,h.jsx)(m.Z,{toggle:y,setToggle:Z}),r[e]&&s[e]&&(0,h.jsx)(k.Pz,{}),r[e]&&!s[e]&&(0,h.jsx)(k.tm,{})]})]},e)})),(0,h.jsx)(f.Z,{disabled:S({values:r,errors:s}),children:"Sign in"}),(0,h.jsx)(p.Z,{})]})}})},Z=function(e){var r=e.setIsForgot,n=e.email,s=(0,u.I0)(),i=function(e){var r=e.values,n=e.errors,s=!Object.values(r)[0]&&"noValue",t=Object.values(n).length?"error":"success";return s||t},o=function(e){var r=e.errors;return Object.keys(r).length};return(0,h.jsx)(a.J9,{initialValues:{email:n},validationSchema:g.Hj,onSubmit:function(e,n){s((0,v.fW)(e)).unwrap().catch((function(e){return console.log(e)})),r(!1)},children:function(e){var r=e.values,n=e.errors;return(0,h.jsxs)(k.l0,{children:[(0,h.jsx)(k.pG,{children:(0,h.jsx)("h2",{children:"Get reset link"})}),(0,h.jsxs)(t.Fragment,{children:[(0,h.jsxs)(k.__,{children:["Email:",(0,h.jsx)("pre",{children:" "}),(0,h.jsx)(k.CV,{name:"email",component:"span"})]}),(0,h.jsxs)(k.jJ,{children:[(0,h.jsx)(k.gN,{type:"email",name:"email",validation:i({values:r,errors:n})}),"error"===i({values:r,errors:n})&&(0,h.jsx)(k.Pz,{}),"success"===i({values:r,errors:n})&&(0,h.jsx)(k.tm,{})]})]}),(0,h.jsx)(f.Z,{disabled:o({errors:n}),children:"Submit"})]})}})},C=n(936),S=n(192),w=n(1452),F=function(){var e=(0,t.useState)(!1),r=(0,s.Z)(e,2),n=r[0],o=r[1],a=(0,t.useState)(!1),u=(0,s.Z)(a,2),l=u[0],c=u[1],d=(0,t.useState)(""),j=(0,s.Z)(d,2),x=j[0],f=j[1],m=(0,w.aC)().user;return(0,h.jsxs)(i.Z,{w:"400px",h:"100vh",p:"0",d:"flex",fd:"column",jc:"center",children:[(0,h.jsx)(y,{setIsVerify:o,setIsForgot:c,setEmail:f}),n&&(0,h.jsx)(C.Z,{onClick:function(){return o(!n)},children:(0,h.jsx)(S.Z,{userEmail:m.email})}),l&&(0,h.jsx)(C.Z,{onClick:function(){return c(!l)},children:(0,h.jsx)(Z,{setIsForgot:c,email:x})})]})}}}]);
//# sourceMappingURL=876.c1bb833d.chunk.js.map